(this["webpackJsonpreact-currency-converter"]=this["webpackJsonpreact-currency-converter"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),u=(n(17),n(18),n(7)),i=n(1),s=n(11),l=n.n(s),h=n(3),d=n(2),m=n(8),v=n(6);n(19);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.a.createElement("option",{value:e.code,key:t},e.code,e.symbol?" ".concat(e.symbol):"",e.emoji?" ".concat(e.emoji):"")}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onChange,n=e.incomingCurrencyCode,c=e.currencies,o=Object(a.useState)(n),u=Object(i.a)(o,2),s=u[0],l=u[1];function h(e){l(e.target.value),t(e.target.value)}return r.a.createElement("select",{className:"CurrencySelector",onChange:h,value:s},c.map((function(e,t){return g(e,t)})))}y.defaultProps={onChange:function(){},incomingCurrencyCode:"USD",currencies:[]};var f=y;n(20);function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onChange,n=e.incomingAmount,c=Object(a.useState)(0),o=Object(i.a)(c,2),u=o[0],s=o[1],l=function(e){var n=e.target.value;s(n),t(n)};return n!==u&&s(n),r.a.createElement("div",{className:"AmountInput-container"},r.a.createElement("input",{className:"AmountInput",type:"number",onChange:l,value:u}))}C.defaultProps={onChange:function(){},incomingAmount:null};var b=C,p=[{code:"USD",symbol:"$",emoji:"\ud83d\udcb5"},{code:"GBP",symbol:"\xa3",emoji:"\ud83d\udcb7"},{code:"CNY",symbol:"\xa5"},{code:"EUR",symbol:"\u20ac",emoji:"\ud83d\udcb6"},{code:"INR",symbol:"\u20b9"},{code:"JPY",symbol:"\xa5",emoji:"\ud83d\udcb4"},{code:"CHF",symbol:"Fr."}],E=window.fetch,j=function(){function e(){Object(h.a)(this,e),this.source={url:"https://exchangeratesapi.io/",name:"exchangeratesapi.io"},this.endpoint="latest",this.base="USD",this.date=null,this.rates={},this.isLoaded=!1,this.error=null}return Object(d.a)(e,[{key:"getDate",value:function(){return this.date}},{key:"convert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.isLoaded||!this.rates[e]||!this.rates[t])return!1;var a=this.convertToBase(e,n),r=this.convertFromBase(t,a);return r}},{key:"convertToBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!this.rates[e]&&Number(t)/this.rates[e]}},{key:"convertFromBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!this.rates[e]&&Number(t)*this.rates[e]}},{key:"getLoadParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.base;return"base=".concat(e)}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.base,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isLoaded&&!n?Promise.resolve():(this.isLoaded=!1,E("".concat("https://api.exchangeratesapi.io/").concat(this.endpoint,"?").concat(this.getLoadParams(t))).then((function(e){return e.json()})).then((function(t){e.error=null,e.base=t.base,e.date=t.date,e.rates=t.rates}),(function(t){e.error=t})).finally((function(){e.isLoaded=!0})))}},{key:"getCurrencies",value:function(){var e=this,t=Object(u.a)(p);return this.isLoaded?(t.filter((function(t){return e.rates[t.code]})),Object.keys(this.rates).forEach((function(e){t.find((function(t){return t.code===e}))||t.push({code:e,symbol:""})})),t.sort((function(e,t){return e.code<t.code?-1:0}))):t}}],[{key:"validator",value:function(){}}]),e}();var O=function(e){return Math.round(100*e)/100},N=(n(21),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,n),e=t.call(this);var r=a.rates,c=a.onCurrencyChange;e.rates=r,e.state={currency:["USD","GBP"],amounts:["",""]},e.onCurrencyChange=c;var o=e.state.currency;return e.onCurrencyChange(o),e}return Object(d.a)(n,null,[{key:"getConversionIndex",value:function(e){return 0===e?1:0}}]),Object(d.a)(n,[{key:"handleCurrencyChange",value:function(e,t){var n=this.state,a=n.amounts,r=n.currency;r[t]=e,this.setState({currency:r}),""!==a[t]&&this.handleAmountChange(a[0],0),this.onCurrencyChange(r)}},{key:"handleAmountChange",value:function(e,t){var a=this.state.currency,r=n.getConversionIndex(t),c=[];c[t]=String(e);var o=a[t],u=a[r],i=this.rates.convert(o,u,e);c[r]=String(O(i)),this.setState({amounts:c})}},{key:"renderCurrencyColumn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this.state,c=a.currency,o=a.amounts,u=function(t){return e.handleCurrencyChange(t,n)},i=function(t){return e.handleAmountChange(t,n)};return r.a.createElement("div",null,r.a.createElement(f,{incomingCurrencyCode:c[n],onChange:u,currencies:t}),r.a.createElement(b,{incomingAmount:o[n],onChange:i}))}},{key:"render",value:function(){var e=this.rates.getCurrencies();return r.a.createElement("section",null,r.a.createElement("form",{className:"CurrencyConverterForm"},this.renderCurrencyColumn(e,0),r.a.createElement("div",null,"="),this.renderCurrencyColumn(e,1)))}}]),n}(r.a.Component));N.defaultProps={rates:{},onCurrencyChange:function(){}};var D=N;n(22);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=-1/0,c=1/0,o=e.map((function(e){var n=0===e[t[0]]?0:e[t[1]]/e[t[0]];return n>r&&(r=n),n<c&&(c=n),n})),u=o.map((function(t,o){var u=o/e.length*n,i=r===c?a:(t-c)/(r-c)*-a+a;return"".concat(u," ").concat(i)}));return u.unshift("0 ".concat(a)),u.push("".concat(n," ").concat(a),"0 ".concat(a)),u.join(",")}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.currency,a=e.width,c=e.height;return r.a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 ".concat(a," ").concat(c)},r.a.createElement("polygon",{className:"CurrencyHistoryGraph-polygon",points:k(t,n,a,c)}))}S.defaultProps={data:[],currency:[],width:300,height:300};var w=S,L=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).endpoint="history",e.historyDayRange=30,e}return Object(d.a)(n,[{key:"getHistoryDateStrings",value:function(){var e=new Date,t=new Date;return t.setDate(t.getDate()-this.historyDayRange),[n.getIsoDate(t),n.getIsoDate(e)]}},{key:"getLoadParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.base,t=this.getHistoryDateStrings();return"base=".concat(e,"&start_at=").concat(t[0],"&end_at=").concat(t[1])}},{key:"getHistoricalRatesByCurrencies",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.base,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.base;return Object.keys(this.rates).map((function(a){var r=e.rates[a],c={date:a};return c[t]=r[t],c[n]=r[n],c})).sort((function(e,t){return e.date<t.date?-1:0}))}}],[{key:"getIsoDate",value:function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}}]),n}(j);n(23);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,e.date),r.a.createElement("td",null,O(e[t[0]])),r.a.createElement("td",null,O(e[t[1]])),r.a.createElement("td",null,O(e[t[1]]/e[t[0]])))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.a.createElement("table",{className:"CurrencyHistory-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Date"),r.a.createElement("td",null,t[0]),r.a.createElement("td",null,t[1]),r.a.createElement("td",null,"".concat(t[1],"/").concat(t[0]," Rate")))),r.a.createElement("tbody",null,e.map((function(e,n){return H(e,t,n)}))))}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currency,n=Object(a.useState)(new L),c=Object(i.a)(n,1),o=c[0],u=Object(a.useState)(null),s=Object(i.a)(u,2),l=s[0],h=s[1],d=Object(a.useState)(!1),m=Object(i.a)(d,2),v=m[0],g=m[1],y=Object(a.useState)(!1),f=Object(i.a)(y,2),C=f[0],b=f[1];Object(a.useEffect)((function(){o.load().finally((function(){h(o.error),g(o.isLoaded)}))}));var p=o.getHistoricalRatesByCurrencies(t[0],t[1]),E=function(){return b(!C)};return r.a.createElement("div",{className:"CurrencyHistory-container"},r.a.createElement("section",{className:C?"CurrencyHistory CurrencyHistory-open":"CurrencyHistory"},r.a.createElement("div",null,v?"":"Loading...",l||""),r.a.createElement("div",{className:"CurrencyHistory-graph-container"},r.a.createElement("div",null,r.a.createElement("span",{className:"CurrencyHistory-graph-currency"},t[1]),"/",r.a.createElement("span",{className:"CurrencyHistory-graph-currency"},t[0]),r.a.createElement("span",{className:"CurrencyHistory-graph-day-range"},"Last ".concat(o.historyDayRange," Days"))),r.a.createElement(w,{data:p,currency:t,width:900,height:300})),r.a.createElement("div",{className:"CurrencyHistory-drawer"},A(p,t)),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"CurrencyHistory-toggle-drawer-button",onClick:E},C?"Close data":"View table of data"))))}P.defaultProps={currency:[]};var R=P;n(24);function U(e,t,n){var a=function(e,t){var n=new Date(e),a=new Date(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()&&n.getDate()===a.getDate()}(n,new Date)?"today":n;return r.a.createElement("span",null,"Last updated",r.a.createElement("span",{className:"CurrencyRatesStatus-date"},a),"with rates from"," ",r.a.createElement("a",{href:e,rel:"noreferrer"},t))}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.error,n=e.isLoaded,a=e.sourceUrl,c=e.sourceName,o=e.sourceDate;return r.a.createElement("div",{className:"CurrencyRatesStatus-container"},r.a.createElement("div",{className:"CurrencyRatesStatus"},n?U(a,c,o):"Loading...",t||""))}B.defaultProps={error:null,isLoaded:!1,sourceUrl:"#",sourceName:"N/A",sourceDate:"N/A"};var I=B;n(25);var x=function(){var e=Object(a.useState)(new j),t=Object(i.a)(e,1)[0],n=Object(a.useState)(null),c=Object(i.a)(n,2),o=c[0],s=c[1],h=Object(a.useState)(!1),d=Object(i.a)(h,2),m=d[0],v=d[1],g=Object(a.useState)([]),y=Object(i.a)(g,2),f=y[0],C=y[1];return Object(a.useEffect)((function(){t.load().finally((function(){s(t.error),v(t.isLoaded)}))})),r.a.createElement("article",{className:"CurrencyConverter"},r.a.createElement("header",{className:"CurrencyConverter-header"},r.a.createElement("h1",null,"Currency Converter"),r.a.createElement("div",{className:"CurrencyConverter-subtitle"},"Made in",r.a.createElement("img",{src:l.a,className:"CurrencyConverter-logo",alt:"React Logo"}),"React")),r.a.createElement(I,{isLoaded:m,error:o,sourceUrl:t.source.url,sourceName:t.source.name,sourceDate:t.getDate()}),r.a.createElement(D,{rates:t,onCurrencyChange:function(e){return C(Object(u.a)(e))}}),r.a.createElement(R,{currency:f}))};var F=function(){return r.a.createElement("main",{className:"App"},r.a.createElement(x,null),r.a.createElement("footer",{className:"App-footer"},r.a.createElement("span",null,r.a.createElement("a",{href:"https://github.com/Lukenickerson/react-currency-converter"},"Open Source on GitHub")),r.a.createElement("span",{className:"App-credits"},"Created by",r.a.createElement("a",{href:"https://github.com/Lukenickerson",className:"App-author"},"Luke Nickerson"),r.a.createElement("span",null,"\xa9 2020"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){console.error(e,t)}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){M(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.3dc17685.chunk.js.map